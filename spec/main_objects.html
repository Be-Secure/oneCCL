

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>oneCCL Concepts &mdash; oneCCL Documentation (Beta) 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.js"></script>
        <script type="text/javascript" src="../_static/sphinx_tabs/tabs.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="oneCCL Collective Communication" href="collective_communication.html" />
    <link rel="prev" title="Sample application" href="../sample.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> oneCCL Documentation (Beta)
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-using-command-line-interface">Installation using Command Line Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#custom-installation">Custom Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-using-tar-gz">Installation using tar.gz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-using-rpm">Installation using RPM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sample.html">Sample application</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sample.html#build-details">Build details</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sample.html#run-the-sample">Run the sample</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Programming Model</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">oneCCL Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#oneccl-environment">oneCCL Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oneccl-stream">oneCCL Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oneccl-communicator">oneCCL Communicator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#oneccl-communicator-attributes">oneCCL Communicator Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="collective_communication.html">oneCCL Collective Communication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="communication_primitives.html">Collective Opertations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="communication_primitives.html#allgatherv">Allgatherv</a></li>
<li class="toctree-l3"><a class="reference internal" href="communication_primitives.html#allreduce">Allreduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="communication_primitives.html#alltoall">Alltoall</a></li>
<li class="toctree-l3"><a class="reference internal" href="communication_primitives.html#alltoallv">Alltoallv</a></li>
<li class="toctree-l3"><a class="reference internal" href="communication_primitives.html#barrier">Barrier</a></li>
<li class="toctree-l3"><a class="reference internal" href="communication_primitives.html#broadcast">Broadcast</a></li>
<li class="toctree-l3"><a class="reference internal" href="communication_primitives.html#reduce">Reduce</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ccl_datatypes.html">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="collective_call_attributes.html">Collective Call Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion.html">Track Communication Progress</a><ul>
<li class="toctree-l3"><a class="reference internal" href="completion.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="completion.html#test">Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="completion.html#wait">Wait</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="error_handling.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic_workflow.html">Generic Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu_support.html">GPU support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gpu_support.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cpu_support.html">CPU support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cpu_support.html#example">Example</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">General Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../collectives_execution.html">Execution of collective operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../collectives_execution.html#explicit-setup">Explicit setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../collectives_execution.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../collectives_execution.html#automatic-setup">Automatic setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../collectives_execution.html#id1">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../transport_selection.html">Transport selection</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../collective_algorithms_selection.html">Selection of collective algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../collectives_caching.html">Caching of collective operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../collectives_prioritization.html">Prioritization of collective operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../collectives_fusion.html">Fusion of collective operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparse_collectives.html">Sparse collective operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unordered_collectives.html">Unordered collectives support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elasticity.html">Fault tolerance / elasticity</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../elasticity.html#main-instructions">Main instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../elasticity.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../elasticity.html#without-k8s-manager">Without k8s manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../elasticity.html#using-k8s-manager">Using k8s manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../elasticity.html#without-mpirun">Without mpirun</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Reference Materials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../env_variables.html">Environment variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#collective-algorithms-selection">Collective algorithms selection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-coll-name">CCL_&lt;coll_name&gt;</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#available-collectives">Available collectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#available-algorithms">Available algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#allgatherv-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLGATHERV</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#allreduce-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLREDUCE</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#alltoall-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLTOALL</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#alltoallv-algorithms"><code class="docutils literal notranslate"><span class="pre">ALLTOALLV</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#barrier-algorithms"><code class="docutils literal notranslate"><span class="pre">BARRIER</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#bcast-algorithms"><code class="docutils literal notranslate"><span class="pre">BCAST</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#reduce-algorithms"><code class="docutils literal notranslate"><span class="pre">REDUCE</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#sparse-allreduce-algorithms"><code class="docutils literal notranslate"><span class="pre">SPARSE_ALLREDUCE</span></code> algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#ccl-rs-chunk-count">CCL_RS_CHUNK_COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../env_variables.html#ccl-rs-min-chunk-size">CCL_RS_MIN_CHUNK_SIZE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#fusion">Fusion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-fusion">CCL_FUSION</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-fusion-bytes-threshold">CCL_FUSION_BYTES_THRESHOLD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-fusion-count-threshold">CCL_FUSION_COUNT_THRESHOLD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-fusion-cycle-ms">CCL_FUSION_CYCLE_MS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#pmi">PMI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-pm-type">CCL_PM_TYPE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-kvs-ip-exchange">CCL_KVS_IP_EXCHANGE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-k8s-api-addr">CCL_K8S_API_ADDR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-k8s-manager-type">CCL_K8S_MANAGER_TYPE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-kvs-ip-port">CCL_KVS_IP_PORT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-world-size">CCL_WORLD_SIZE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env_variables.html#ccl-job-name">CCL_JOB_NAME</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#ccl-atl-transport">CCL_ATL_TRANSPORT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#ccl-unordered-coll">CCL_UNORDERED_COLL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#ccl-priority">CCL_PRIORITY</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#ccl-worker-count">CCL_WORKER_COUNT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_variables.html#ccl-worker-affinity">CCL_WORKER_AFFINITY</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/library_root.html">Library API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/library_root.html#class-hierarchy">Class Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/library_root.html#file-hierarchy">File Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/library_root.html#full-api">Full API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/library_root.html#namespaces">Namespaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/namespace_ccl.html">Namespace ccl</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/library_root.html#classes-and-structs">Classes and Structs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/structccl__coll__attr__t.html">Struct ccl_coll_attr_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/structccl__comm__attr__t.html">Struct ccl_comm_attr_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/structccl__fn__context__t.html">Struct ccl_fn_context_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/structccl__version__t.html">Struct ccl_version_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/classccl_1_1ccl__error.html">Class ccl_error</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/classccl_1_1communicator.html">Class communicator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/classccl_1_1environment.html">Class environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/classccl_1_1request.html">Class request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/classccl_1_1stream.html">Class stream</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/library_root.html#enums">Enums</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8hpp_1a9b2e2854ccf9d79a41e4473ce4dc30a6.html">Enum data_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8hpp_1ab82e3278c54a74e2560a3a5d198db300.html">Enum reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8hpp_1a0cc079933a87903893e2bd84836cdbd6.html">Enum stream_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8h_1af3d8cd4cfec3b312026597a874406e12.html">Enum ccl_datatype_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8h_1a42085859d35d75cc288367198c003e0d.html">Enum ccl_reduction_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8h_1a6f190c608822e4b3feff0e9c709fcc63.html">Enum ccl_resize_action</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8h_1a8753f2a133dd18aad81ee86a86f1cc90.html">Enum ccl_status_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/enum_ccl__types_8h_1a5872dcb7cc3a72fbf94a20d07ce6d63b.html">Enum ccl_stream_type_t</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/library_root.html#functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl__type__traits_8hpp_1a433b9255dcb5482e42bbb60e9064a397.html">Template Function ccl::is_class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl__type__traits_8hpp_1a00146b9b475d5c7c61eacca34f0edb6c.html">Template Function ccl::is_class_supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl__type__traits_8hpp_1a150aaf3343efbab089e5dea87737f60d.html">Template Function ccl::is_native_type_supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl__type__traits_8hpp_1a9d8bc3d839013305bbcb51a78d95c049.html">Template Function ccl::is_supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a976c31a7b1a91c33b6a9c09f13cd1796.html">Function ccl_allgatherv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a9e104eaa3dc77cb6d61030778637ed5a.html">Function ccl_allreduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1aa890514a6e244e841dcb1f3c6c4a616f.html">Function ccl_alltoall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1ac1791fd81f923eb9af19b8bf07a5ecf5.html">Function ccl_alltoallv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1ac5618870776b28aac8f1f9e84b178577.html">Function ccl_barrier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a1cdf74249061dbabd47ea293832e9296.html">Function ccl_bcast</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1abb843675ca240e8d1aa42d604537ca62.html">Function ccl_comm_create</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a2f90c583079ea7cc752e0323c1a6da14.html">Function ccl_comm_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a4c39317f260e16a8011a721aabd08169.html">Function ccl_finalize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1ad8a13061b6dc0088712f2a23aa65d4cd.html">Function ccl_get_comm_rank</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1aad4a37be50f4cdcf9c056dc48b18cf54.html">Function ccl_get_comm_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a3dd7671f84f0e6feefb0070ed716d3e9.html">Function ccl_get_version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a04a33f2c4525349680073a4a3c3d6a2f.html">Function ccl_init</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a89ca04757f4de077905961e506dfe534.html">Function ccl_reduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a4a3092281bb0486bd832f9b3a48c1953.html">Function ccl_set_resize_fn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a338cc1918d32ec4079f1777b67fc91fc.html">Function ccl_sparse_allreduce</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a4b7988205b012b6d5be39b7f865e79ec.html">Function ccl_stream_create</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1afa5037ae8c31a0596d2fcb0c03b867e1.html">Function ccl_stream_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1ab87c372553134eb945fcbafd63aca374.html">Function ccl_test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/function_ccl_8h_1a171f3d1bc4ea2f1219fcd084c21587b6.html">Function ccl_wait</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/library_root.html#typedefs">Typedefs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8hpp_1aac061de382f1663be34bfa9cb1a90ede.html">Typedef ccl::coll_attr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8hpp_1a692462538360ba9d937a661ac98329c3.html">Typedef ccl::comm_attr</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl_8hpp_1afb67f3fd79049729ef6509f6e8e44efa.html">Typedef ccl::communicator_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl_8hpp_1afa826e3536369b356fcb6a1a4f737e45.html">Typedef ccl::stream_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1ad984e26c3463804b916a8b05b779a34b.html">Typedef ccl_comm_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1a29e394996eef8187e70ba379781a14f2.html">Typedef ccl_epilogue_fn_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1adad59e98682ba3a78148d8f9d6161ed9.html">Typedef ccl_prologue_fn_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1a625e9080b37af8c23414ab4c877caf93.html">Typedef ccl_reduction_fn_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1a0df469be505174d5656a3c5cba27ddd1.html">Typedef ccl_request_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1aa827bd4240d612fa112cc603dda7172f.html">Typedef ccl_resize_action_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1a18fa4bbd5cc606204bdada4979625ff4.html">Typedef ccl_resize_fn_t</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/typedef_ccl__types_8h_1ae4f1fe2e25f4a0189765458d8a83def5.html">Typedef ccl_stream_t</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Notices and Disclaimers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../legal.html">Notices and Disclaimers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimization_notice.html">Optimization Notice</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">oneCCL Documentation (Beta)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>oneCCL Concepts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/spec/main_objects.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="oneccl-concepts">
<h1>oneCCL Concepts<a class="headerlink" href="#oneccl-concepts" title="Permalink to this headline">¶</a></h1>
<p>Intel® oneAPI Collective Communications Library introduces the following list of concepts:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#oneccl-environment">oneCCL Environment</a></p></li>
<li><p><a class="reference internal" href="#oneccl-stream">oneCCL Stream</a></p></li>
<li><p><a class="reference internal" href="#oneccl-communicator">oneCCL Communicator</a></p></li>
</ul>
<div class="section" id="oneccl-environment">
<h2>oneCCL Environment<a class="headerlink" href="#oneccl-environment" title="Permalink to this headline">¶</a></h2>
<p>oneCCL Environment is a singleton object that is used as an entry point into oneCCL. It is defined only for C++ version of API.
oneCCL Environment exposes a number of helper methods to manage other CCL objects, such as streams or communicators.</p>
</div>
<div class="section" id="oneccl-stream">
<h2>oneCCL Stream<a class="headerlink" href="#oneccl-stream" title="Permalink to this headline">¶</a></h2>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-fGNfYXBpfA== docutils container">
<div class="docutils container">
<p>C API</p>
</div>
</div>
<div class="item sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="docutils container">
<p>C++ API</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNfYXBpfA== active docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">void</span><span class="o">*</span> <span class="n">ccl_stream_t</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">stream</span><span class="p">;</span>
<span class="k">using</span> <span class="n">stream_t</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">ccl</span><span class="o">::</span><span class="n">stream</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<p>CCL Stream encapsulates execution context for communication primitives declared by oneCCL specification. It is an opaque handle that is managed by oneCCL API:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-fGNfYXBpfA== docutils container">
<div class="docutils container">
<p>C API</p>
</div>
</div>
<div class="item sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="docutils container">
<p>C++ API</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNfYXBpfA== active docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ccl_status_t</span> <span class="nf">ccl_stream_create</span><span class="p">(</span><span class="n">ccl_stream_type_t</span> <span class="n">type</span><span class="p">,</span>
                               <span class="kt">void</span><span class="o">*</span> <span class="n">native_stream</span><span class="p">,</span>
                               <span class="n">ccl_stream_t</span><span class="o">*</span> <span class="n">ccl_stream</span><span class="p">);</span>
<span class="n">ccl_status_t</span> <span class="nf">ccl_stream_free</span><span class="p">(</span><span class="n">ccl_stream_t</span> <span class="n">stream</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">environment</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="p">...</span>
    <span class="cm">/**</span>
<span class="cm">    * Creates a new ccl stream of @c type with @c native stream</span>
<span class="cm">    * @param type the @c ccl::stream_type and may be @c cpu or @c sycl (if configured)</span>
<span class="cm">    * @param native_stream the existing handle of stream</span>
<span class="cm">    */</span>
    <span class="n">stream_t</span> <span class="n">create_stream</span><span class="p">(</span><span class="n">ccl</span><span class="o">::</span><span class="n">stream_type</span> <span class="n">type</span> <span class="o">=</span> <span class="n">ccl</span><span class="o">::</span><span class="n">stream_type</span><span class="o">::</span><span class="n">cpu</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">native_stream</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>When you create a oneCCL stream object using the API described above, you need to specify the stream type and pass the pointer to the underlying command queue object.
For example, for oneAPI device you should pass <code class="docutils literal notranslate"><span class="pre">ccl::stream_type::sycl</span></code> and <code class="docutils literal notranslate"><span class="pre">cl::sycl::queue</span></code> objects.</p>
</div>
<div class="section" id="oneccl-communicator">
<h2>oneCCL Communicator<a class="headerlink" href="#oneccl-communicator" title="Permalink to this headline">¶</a></h2>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-fGNfYXBpfA== docutils container">
<div class="docutils container">
<p>C API</p>
</div>
</div>
<div class="item sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="docutils container">
<p>C++ API</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNfYXBpfA== active docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">void</span><span class="o">*</span> <span class="n">ccl_comm_t</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">communicator</span><span class="p">;</span>
<span class="k">using</span> <span class="n">communicator_t</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">ccl</span><span class="o">::</span><span class="n">communicator</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<p>oneCCL Communicator defines participants of collective communication operations. It is an opaque handle that is managed by oneCCL API:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-fGNfYXBpfA== docutils container">
<div class="docutils container">
<p>C API</p>
</div>
</div>
<div class="item sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="docutils container">
<p>C++ API</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNfYXBpfA== active docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ccl_status_t</span> <span class="nf">ccl_comm_create</span><span class="p">(</span><span class="n">ccl_comm_t</span><span class="o">*</span> <span class="n">comm</span><span class="p">,</span>
                             <span class="k">const</span> <span class="n">ccl_comm_attr_t</span><span class="o">*</span> <span class="n">attr</span><span class="p">);</span>
<span class="n">ccl_status_t</span> <span class="nf">ccl_comm_free</span><span class="p">(</span><span class="n">ccl_comm_t</span> <span class="n">comm</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-fGNwcF9hcGl8 docutils container">
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">environment</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="p">...</span>
    <span class="cm">/**</span>
<span class="cm">    * Creates a new communicator according to @c attr parameters</span>
<span class="cm">    * or creates a copy of global communicator, if @c attr is @c nullptr(default)</span>
<span class="cm">    * @param attr</span>
<span class="cm">    */</span>
    <span class="n">communicator_t</span> <span class="n">create_communicator</span><span class="p">(</span><span class="k">const</span> <span class="n">ccl</span><span class="o">::</span><span class="n">comm_attr</span><span class="o">*</span> <span class="n">attr</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>When you create a oneCCL Communicator, you can optionally specify attributes that control the runtime behaviour of oneCCL implementation.</p>
<div class="section" id="oneccl-communicator-attributes">
<h3>oneCCL Communicator Attributes<a class="headerlink" href="#oneccl-communicator-attributes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">    * Used to split global communicator into parts. Ranks with identical color</span>
<span class="cm">    * will form a new communicator.</span>
<span class="cm">    */</span>
    <span class="kt">int</span> <span class="n">color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">ccl_comm_attr_t</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ccl_comm_attr_t</span></code> (<code class="docutils literal notranslate"><span class="pre">ccl::comm_attr</span></code> in C++ version of API) is an extendable structure that serves as a modificator of communicator behaviour.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="collective_communication.html" class="btn btn-neutral float-right" title="oneCCL Collective Communication" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../sample.html" class="btn btn-neutral float-left" title="Sample application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019–2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<br>
<div>
  <p>
      For more complete information about compiler optimizations, see our <a href="../optimization_notice.html">Optimization Notice</a>.
  </p>  
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>